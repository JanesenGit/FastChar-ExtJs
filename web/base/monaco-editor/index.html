<!DOCTYPE html>
<html lang="en" style="width: 100%;height: 100%;">
<head>
    <meta charset="UTF-8">
    <title>测试编辑器</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }
    </style>
    <script src="min/vs/loader.js"></script>

    <script>
        let editor;
        require.config({paths: {'vs': 'min/vs'}});
        require.config({'vs/nls': {availableLanguages: {'*': 'zh-cn'}}});
        require(['vs/editor/editor.main'], function () {
            if (window.parent && window.parent[window.name + "LoadDone"]) {
                window.parent[window.name + "LoadDone"]();
            }
        });


        function createEditor(option) {
            editor = monaco.editor.create(document.getElementById('monaco'), option);
        }

        function createDiffEditor(content1,content2,language) {
            editor= monaco.editor.createDiffEditor(document.getElementById('monaco'));
            editor.setModel({
                original: monaco.editor.createModel(content1, language),
                modified: monaco.editor.createModel(content2, language),
            });
        }

        function getValue() {
            if (editor.getModifiedEditor) {
                return editor.getModifiedEditor().getValue();
            }
            return editor.getValue();
        }


        function addExtraLib(content) {
            monaco.languages.typescript.javascriptDefaults.addExtraLib(content);
        }

        // monaco.languages.registerCompletionItemProvider('javascript', {
        //     provideCompletionItems: () => {
        //         return {
        //             suggestions: [
        //                 {
        //                     label: 'getIniString',
        //                     filterText: "FastExt",
        //                     kind: monaco.languages.CompletionItemKind.Function,
        //                     insertText: 'FastExt.getIniString(${1:sec}, ${2: key})',
        //                     insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,
        //                     documentation: "My first Custom Function",
        //                     detail: "我的说明",
        //                 }
        //             ]
        //         }
        //     }
        // });
        // monaco.languages.typescript.javascriptDefaults.addExtraLib("${source}");


    </script>

</head>
<body style="width: 100%;height: 100%;">

<div id="monaco" style="width: 100%;height: 100%;">
</div>

</body>

<script>

</script>
</html>